



<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../mdzdoc-css/main.css" type="text/css" charset="utf-8">
    <title>Utilities</title>
    <meta name="description" content="">
  </head>
  <body>
    <!-- Toggles Navigation -->
    <div id="toc-toggle" class="">
      <div class="bar topbar"></div>
      <div class="bar"></div>
      <div class="bar botbar"></div>
    </div>
    <div class="twocol">
      <div class="toc toc-hidden">
        <ul>
          <li><span><a href="../index.html">Jhydro</a></span></li><li class="caret"><span><a href="index.html">API</a></span><ul><li><span><a href="hash.html">General Purpose Hashing</a></span></li><li><span><a href="kdf.html">Key Derivation</a></span></li><li><span><a href="pwhash.html">Password Hashing</a></span></li><li><span><a href="sign.html">Public Key Signing</a></span></li><li><span><a href="random.html">Random Number Generation</a></span></li><li><span><a href="secretbox.html">Symmetric Encryption</a></span></li><li><span class="selected"><a href="util.html">Utilities</a></span></li></ul></li>
        </ul>
      </div>
      <div class="content-wrapper">
        <h1>Utilities</h1>
        <div class="prevnext-bar">
          <span class="prev"><a href="secretbox.html"><span class="prevnext-text">Symmetric Encryption</span></a></span>
          <span class="next"><a href="../index.html"><span class="prevnext-text">Jhydro</span></a></span>
        </div>
        

<h2>Index
</h2>
<p><a href="#util/++">util/++</a><span class="divider"> </span><a href="#util/=">util/=</a><span class="divider"> </span><a href="#util/bin2hex">util/bin2hex</a><span class="divider"> </span><a href="#util/compare">util/compare</a><span class="divider"> </span><a href="#util/hex2bin">util/hex2bin</a><span class="divider"> </span><a href="#util/memzero">util/memzero</a><span class="divider"> </span><a href="#util/pad">util/pad</a><span class="divider"> </span><a href="#util/unpad">util/unpad</a></p><h2>Reference
</h2>
<div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/++">util/++</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/++</span> <span class="mdzsyn-coresym">buffer</span>)</code></pre><p>Increment a buffer, treating it as a little endian large integer. If the increment results in an overflow, sets the buffer to all zero bytes. Returns the modified buffer.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/=">util/=</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/=</span> <span class="mdzsyn-symbol">lhs</span> <span class="mdzsyn-symbol">rhs</span>)</code></pre><p>Compare the contents of two equal length buffers without early returns, which helps prevent side channel attacks. This is the function that should be used for comparing two buffers with cryptographic content. If the two buffers are of different lengths, returns early. Returns a boolen.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/bin2hex">util/bin2hex</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/bin2hex</span> <span class="mdzsyn-symbol">bin</span> <span class="mdzsyn-symbol">&amp;opt</span> <span class="mdzsyn-symbol">hex</span>)</code></pre><p>Convert binary data into hexidecimal. The hex representation of bin, the input buffer, is converted to a ascii hexidecimal and put in the buffer hex, or a new buffer if hex is not supplied. Returns hex or a new buffer.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/compare">util/compare</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/compare</span> <span class="mdzsyn-symbol">lhs</span> <span class="mdzsyn-symbol">rhs</span>)</code></pre><p>Compare two buffers without early returns to help prevent side channel attacks. Returns an integer -1, 0, or 1.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/hex2bin">util/hex2bin</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/hex2bin</span> <span class="mdzsyn-symbol">hex</span> <span class="mdzsyn-symbol">&amp;opt</span> <span class="mdzsyn-symbol">bin</span> <span class="mdzsyn-symbol">ignore</span>)</code></pre><p>Convert a hexidecimal string to binary data. Can provide an optional bin to write into instead of creating a new buffer, and also a string of characters to ignore while reading hex. Returns the buffer bin or a new buffer.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/memzero">util/memzero</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/memzero</span> <span class="mdzsyn-coresym">buffer</span>)</code></pre><p>Clear memory in a buffer to 0, not changing the size of the buffer. Returns the modified buffer.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/pad">util/pad</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/pad</span> <span class="mdzsyn-coresym">buffer</span> <span class="mdzsyn-symbol">blocksize</span>)</code></pre><p>Pad a buffer according to the ISO/IEC 7816-4 algorithm. Returns the modified buffer.</p></div><div class="docstring"><div class="binding-wrap"><span class="binding"><a id="util/unpad">util/unpad</a></span><span class="binding-type">cfunction</span></div><pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-symbol">util/unpad</span> <span class="mdzsyn-coresym">buffer</span> <span class="mdzsyn-symbol">blocksize</span>)</code></pre><p>Unpad a buffer padded via util/pad. Returns the modifed buffer.</p></div>
        <div class="prevnext-bar">
          <span class="prev"><a href="secretbox.html"><span class="prevnext-text">Symmetric Encryption</span></a></span>
          <span class="next"><a href="../index.html"><span class="prevnext-text">Jhydro</span></a></span>
        </div>
      </div>
    </div>
    <script charset="utf-8">
      function toggleToc() {
        var toggler = document.getElementById('toc-toggle');
        var wrapper = document.querySelector('.toc');
        wrapper.classList.toggle('toc-hidden');
        toggler.classList.toggle('open');
        window.localStorage.setItem('show-toc', toggler.classList.contains('open'));
      }
      function addTocToggle() {
        var el = document.getElementById('toc-toggle');
        el.addEventListener('click', toggleToc);
      }
      window.addEventListener('DOMContentLoaded', addTocToggle);
      if (window.localStorage.getItem('show-toc') === 'true') {
        toggleToc()
      }
    </script>
    <footer>
      <div class="content-wrapper">
        Copyright &copy; Calvin Rose 2019
      </div>
    </footer>
  </body>
</html>
